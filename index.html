<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Job Application Tracker</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f7f6;
      color: #333;
    }

    h1 {
      text-align: center;
      color: #4CAF50;
      margin-top: 30px;
      font-size: 2rem;
    }

    form {
      background-color: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      width: 90%;
      max-width: 600px;
      margin: 20px auto;
    }

    label {
      display: block;
      margin: 10px 0 5px;
      font-weight: bold;
    }

    input, select {
      padding: 10px;
      width: calc(100% - 22px);
      border: 1px solid #ddd;
      border-radius: 4px;
      margin-top: 5px;
    }

    button {
      background-color: #4CAF50;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1rem;
      margin-top: 20px;
      width: 100%;
    }

    button:hover {
      background-color: #45a049;
    }

    table {
      width: 90%;
      margin: 20px auto;
      border-collapse: collapse;
      background-color: #fff;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      border-radius: 8px;
    }

    th, td {
      padding: 15px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }

    th {
      background-color: #4CAF50;
      color: white;
      text-align: center;
    }

    td {
      text-align: center;
    }

    tr:hover {
      background-color: #f5f5f5;
    }

    .updateButton, .deleteButton {
      padding: 5px 10px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.875rem;
      color: white;
    }

    .updateButton {
      background-color: #2196F3;
    }

    .updateButton:hover {
      background-color: #0b7dda;
    }

    .deleteButton {
      background-color: #f44336;
    }

    .deleteButton:hover {
      background-color: #c62828;
    }

    .editable {
      background-color: #f9f9f9;
      border: 1px solid #ddd;
      border-radius: 4px;
    }

    .editable:focus {
      outline: none;
      border-color: #4CAF50;
    }

    .mobile-message {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background-color: #f44336;
      color: white;
      text-align: center;
      padding: 10px;
      font-size: 1rem;
      z-index: 1000;
    }

    @media (max-width: 768px) {
      .mobile-message {
        display: block;
      }

      h1 {
        font-size: 1.5rem;
      }

      table {
        width: 100%;
        font-size: 0.875rem;
      }

      th, td {
        padding: 10px;
      }

      button {
        font-size: 0.875rem;
      }

      form {
        padding: 15px;
      }
    }

    /* Small Screens (e.g., iPhone SE) */
    @media (max-width: 480px) {
      h1 {
        font-size: 1.25rem;
      }

      form {
        padding: 10px;
      }

      input, select {
        width: 100%;
        box-sizing: border-box;
      }

      table {
        font-size: 0.75rem;
      }

      th, td {
        padding: 8px;
      }

      button {
        padding: 8px 16px;
        font-size: 0.75rem;
      }
    }

    /* Medium Screens (e.g., iPhone 13 Mini) */
    @media (max-width: 600px) {
      h1 {
        font-size: 1.5rem;
      }

      form {
        padding: 15px;
      }

      input, select {
        width: 100%;
        box-sizing: border-box;
      }

      table {
        font-size: 0.875rem;
      }

      th, td {
        padding: 12px;
      }

      button {
        padding: 10px 18px;
        font-size: 0.875rem;
      }
    }

    /* Large Screens (e.g., iPhone 13 Pro Max) */
    @media (min-width: 769px) and (max-width: 1024px) {
      h1 {
        font-size: 2rem;
      }

      form {
        padding: 20px;
      }

      input, select {
        width: calc(100% - 22px);
      }

      table {
        font-size: 1rem;
      }

      th, td {
        padding: 15px;
      }

      button {
        padding: 10px 20px;
        font-size: 1rem;
      }
    }

    /* Extra-Large Screens (e.g., iPad Mini and larger tablets) */
    @media (min-width: 1025px) {
      h1 {
        font-size: 2.5rem;
      }

      form {
        padding: 25px;
      }

      input, select {
        width: calc(100% - 22px);
      }

      table {
        font-size: 1.125rem;
      }

      th, td {
        padding: 20px;
      }

      button {
        padding: 12px 24px;
        font-size: 1.125rem;
      }
    }
  </style>
</head>
<body>


  <h1>Job Application Tracker</h1>

  <form id="jobForm">
    <label for="company">Company Name:</label>
    <input type="text" id="company" name="company" required>

    <label for="role">Applied Role:</label>
    <input type="text" id="role" name="role" required>

    <label for="applied">Applied:</label>
    <select id="applied" name="applied">
      <option value="Yes">Yes</option>
      <option value="No">No</option>
    </select>

    <label for="interview">Interview Cleared:</label>
    <select id="interview" name="interview">
      <option value="Pending">Pending</option>
      <option value="Yes">Yes</option>
      <option value="No">No</option>
    </select>

    <label for="package">Package or CTC:</label>
    <input type="text" id="package" name="package">

    <button type="submit">Add Application</button>
  </form>

  <label for="search">Search:</label>
  <input type="text" id="search" placeholder="Search for company or role...">

  <label for="statusFilter">Filter by Status:</label>
  <select id="statusFilter">
    <option value="">All</option>
    <option value="Yes">Applied</option>
    <option value="No">Not Applied</option>
    <option value="Pending">Pending Interview</option>
  </select>

  <table>
    <thead>
      <tr>
        <th>Company Name</th>
        <th>Applied Role</th>
        <th>Applied</th>
        <th>Interview Cleared</th>
        <th>Package or CTC</th>
        <th>Update</th>
        <th>Delete</th>
      </tr>
    </thead>
    <tbody id="applicationTableBody">
      <!-- Rows will be inserted here dynamically -->
    </tbody>
  </table>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      loadApplications();

      document.getElementById('jobForm').addEventListener('submit', function (e) {
        e.preventDefault(); // Prevent form from submitting and refreshing the page

        const companyName = document.getElementById('company').value;
        const appliedRole = document.getElementById('role').value;
        const applied = document.getElementById('applied').value;
        const interviewCleared = document.getElementById('interview').value;
        const packageOrCTC = document.getElementById('package').value;

        const application = {
          companyName,
          appliedRole,
          applied,
          interviewCleared,
          packageOrCTC,
        };

        addApplicationToTable(application);
        saveApplication(application);

        // Clear the form
        document.getElementById('jobForm').reset();
      });

      document.getElementById('search').addEventListener('input', function () {
        const searchQuery = this.value.toLowerCase();
        const rows = document.querySelectorAll('#applicationTableBody tr');

        rows.forEach(row => {
          const companyName = row.cells[0].textContent.toLowerCase();
          const appliedRole = row.cells[1].textContent.toLowerCase();
          if (companyName.includes(searchQuery) || appliedRole.includes(searchQuery)) {
            row.style.display = '';
          } else {
            row.style.display = 'none';
          }
        });
      });

      document.getElementById('statusFilter').addEventListener('change', function () {
        const filterValue = this.value;
        const rows = document.querySelectorAll('#applicationTableBody tr');

        rows.forEach(row => {
          const applied = row.cells[2].textContent;
          const interviewCleared = row.cells[3].textContent;

          if (filterValue === '' || applied === filterValue || interviewCleared === filterValue) {
            row.style.display = '';
          } else {
            row.style.display = 'none';
          }
        });
      });
    });

    function addApplicationToTable(application) {
      const tableBody = document.getElementById('applicationTableBody');
      const newRow = document.createElement('tr');

      newRow.innerHTML = `
        <td>${application.companyName}</td>
        <td>${application.appliedRole}</td>
        <td contenteditable="true" class="editable">${application.applied}</td>
        <td contenteditable="true" class="editable">${application.interviewCleared}</td>
        <td>${application.packageOrCTC}</td>
        <td>
          <button class="updateButton" onclick="updateApplication(this)">Update</button>
        </td>
        <td>
          <button class="deleteButton" onclick="deleteApplication(this)">Delete</button>
        </td>
      `;

      tableBody.appendChild(newRow);

      // Attach event listener for contenteditable cells
      newRow.querySelectorAll('.editable').forEach(cell => {
        cell.addEventListener('blur', function () {
          const row = this.parentElement.parentElement;
          const field = this.cellIndex === 2 ? 'applied' : 'interviewCleared';
          const newValue = this.textContent.trim();

          if (["Yes", "No", "Pending"].includes(newValue)) {
            updateLocalStorage(row, field, newValue);
          } else {
            alert("Invalid input. Please enter Yes, No, or Pending.");
            this.textContent = field === 'interviewCleared' ? "Pending" : "Yes"; // Revert to previous value if invalid
          }
        });
      });
    }

    function updateLocalStorage(row, field, newValue) {
      const applications = JSON.parse(localStorage.getItem('applications')) || [];
      const companyName = row.cells[0].textContent;
      const appliedRole = row.cells[1].textContent;

      const application = applications.find(app => app.companyName === companyName && app.appliedRole === appliedRole);
      if (application) {
        application[field] = newValue;
        localStorage.setItem('applications', JSON.stringify(applications));
      }
    }

    function saveApplication(application) {
      const applications = JSON.parse(localStorage.getItem('applications')) || [];
      applications.push(application);
      localStorage.setItem('applications', JSON.stringify(applications));
    }

    function loadApplications() {
      const applications = JSON.parse(localStorage.getItem('applications')) || [];
      applications.forEach(application => addApplicationToTable(application));
    }

    function updateApplication(button) {
      const row = button.parentElement.parentElement;
      const appliedCell = row.cells[2]; // Applied cell
      const interviewClearedCell = row.cells[3]; // Interview cleared cell

      // Update localStorage
      updateLocalStorage(row, 'applied', appliedCell.textContent.trim());
      updateLocalStorage(row, 'interviewCleared', interviewClearedCell.textContent.trim());
    }

    function deleteApplication(button) {
      const row = button.parentElement.parentElement;
      const companyName = row.cells[0].textContent;
      const appliedRole = row.cells[1].textContent;
      const applications = JSON.parse(localStorage.getItem('applications')) || [];
      const updatedApplications = applications.filter(app => !(app.companyName === companyName && app.appliedRole === appliedRole));
      localStorage.setItem('applications', JSON.stringify(updatedApplications));
      row.remove();
    }
   
  </script>

</body>
</html>
